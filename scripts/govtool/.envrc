source_up
env_vars_required ENVIRONMENT AWS_PROFILE CARDANO_NETWORK DBSYNC_POSTGRES_USER DBSYNC_POSTGRES_PASSWORD DBSYNC_POSTGRES_DB TRAEFIK_LE_EMAIL GTM_ID SENTRY_DSN_BACKEND SENTRY_DSN SENTRY_ENVIRONMENT GRAFANA_ADMIN_PASSWORD GRAFANA_SLACK_RECIPIENT GRAFANA_SLACK_OAUTH_TOKEN IP_ADDRESS_BYPASSING_BASIC_AUTH1 IP_ADDRESS_BYPASSING_BASIC_AUTH2

case "$ENVIRONMENT" in
  "dev")
    env_vars_required DEV_NGINX_BASIC_AUTH
    ;;
  "test")
    env_vars_required TEST_NGINX_BASIC_AUTH
    ;;
  "staging")
    env_vars_required STAGING_NGINX_BASIC_AUTH
    ;;
esac

use flake --extra-experimental-features nix-command --extra-experimental-features flakes ../..#scripts
